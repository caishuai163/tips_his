# 今日总结  
今天主要对maven进行进一步的了解，重新实现了系统结构，重新将充值功能实现到新的结构上。查了上周末提交到git的markdown文件中图片不显示的问题。  

1. maven  
今天又看了关于maven的知识，感觉maven的主要特点在于：  
> 更方便的对项目进行管理。  
对于项目之间的关系，通过依赖的方式，将项目中各个模块之间的关系展示的很清晰。  
在对于整个大的项目来说，通过自动化的构建，减少了程序员编译，测试，打包等各项流程，来回之间的繁琐操作。  
maven的聚合，可以很好地整体上监视项目的各项进展，减少了拼装的流程。  
通过设置模块在不同生命周期的状态，减少了一些比方说只能在某些阶段存在的模块在其不应该出现的生命周期下出现。  
通过在pom.xml中配置各种插件的依赖，省去了还要考虑到底要哪些jar包需要导入，减少了没有必要的jar包的导入，减小体积。

2. 重新搭建的结构   

   ![目录结构](http://git.gyyx.cn/caishuai/static/raw/master/img/dir.png)   

   1. 建立一个root项目  
   pom.xml  

     ```
     <groupId>cn.gyyx</groupId>
     <artifactId>root</artifactId>
     <version>0.0.1-SNAPSHOT</version>
     <packaging>pom</packaging>
     ```  

   2. 在下面建立各个模块
   3. 配置聚合关系  
   root的pom.xml  
   ```
   <modules>
    	<module>ui</module>
    	<module>service</module>
    	<module>bll</module>
    	<module>dao</module>
    	<module>beans</module>
   </modules>
   ```  
   4. 配置继承关系（每个）  
    ```
    <parent>
  		<groupId>cn.gyyx</groupId>
  		<artifactId>root</artifactId>
  		<version>0.0.1-SNAPSHOT</version>
  	</parent>
    ```
   主要是为了在根项目下设置统一的一些东西。  
   5. 配置各个模块之间的依赖关系。  
   ui的pom.xml  

     ```
      <!-- 依赖service -->
      <dependency>
      	<groupId>cn.gyyx</groupId>
      	<artifactId>service</artifactId>
      	<version>0.0.1-SNAPSHOT</version>
      </dependency>
      ```
    service bll dao beans 依此类推。   
3. 充值的重新实现  
  在maven里，可以直接注入依赖，导入需要的spring之类的jar包。

  ![jar代码](http://git.gyyx.cn/caishuai/static/raw/master/img/jar.png)  

  重新改了service和bll的实现。  
  将原来的bll中复杂的操作(对user和money同时操作)移动到service中，  

  ![代码](http://git.gyyx.cn/caishuai/static/raw/master/img/code.png)  

4. 关于Markdown中上传到git仓库时看不到图片，我想应该可以把图片先上传，然后Markdown中写url，这样应该是正确的显示图片。（尝试中）  

5. 对于今天重新了解maven后，感觉突然开阔了一些，没那么混乱了。另外，有一点我还有些问题，就是关于maven中的依赖传递性。在项目中，ui依赖service，service依赖bll，bll依赖Dao，但这样会不会有ui传递依赖到Dao的情况，是要在`<dependency>`中设置解除依赖么？对于beans要是传递依赖的话只在dao写一个？还是都解除传递依赖，在每个里都需要依赖beans？
