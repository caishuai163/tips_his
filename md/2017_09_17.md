# vs2017中文编码乱码问题  
vs2017为了兼容Windows下linux子系统，将默认的文件编码变为utf-8 no BOM。而编译时则是采用ascii编译，中文变为乱码。  
解决方案：  
1. 添加文件高级保存选项，保存时设置为utf-8 with bom  
> 1. 工具->自定义->命令->添加命令，类别选文件，选择高级保存选项，确定。  
> 2. 点击新添加的高级保存选项，选择编码unicode(utf-8 带签名)。  
2. 添加forceUTF-8 with bom 插件  
  工具->扩展和更新->联机,搜索forceUTF8，安装带有with bom的插件，重启IDE即可。  
***
# opencv  
### 1. 读取图片  
`Mat image = imread("bjc.jpg");`  
### 2. 在图片上创建一个矩阵。  
1. 创建矩阵  
`Rect(w1, h1, w2, h2)`  
w1:矩阵的横向起始位置。  
h1:矩阵的纵向起始位置。  
w2:矩阵的宽度。
h2:矩阵的高度。  
2. 将矩阵创建到图片上。  
```
Mat imageROI;
imageROI = image(Rect(w1, h1, w2, h2));
```  
### 3. 线性混合操作  
1. 公式：`t(x)=af(x)+(1-a)g(x);`  
其中a为权重。  
2. 函数：`addWeighted(image1, a, image2, b,gamma, image3 ,dtype);`  
image1:图像1  
image2:图像2  
image3:输出图像3  
a:image1的权重  
b:image2的权重   
gamma:一个加到权重总和上的标量值。  
dtype:输出阵列的可选深度，有默认值-1。;当两个输入数组具有相同的深度时，这个参数设置为-1（默认值），即等同于src1.depth（）。  
函数的公式:`t(x)=af(x)+bg(x)+gamma;`    
注意：使用时image1和image2尺寸必须一致，不一致时可采取2中在一张图片上创建一定大小的矩阵，然后混合。  
3. example code:  
```
#include "stdafx.h"

using namespace cv;
using namespace std;

int main()
{
  // 读入一张图片（游戏原画）
  Mat image = imread("bjc.jpg");
  Mat logo = imread("logo.jpg");

  Mat imageROI;
  imageROI = image(Rect(200, 200, logo.cols, logo.rows));
  addWeighted(imageROI, 0.1, logo, 10,0, imageROI);
  // 创建一个名为 "游戏原画"窗口
  namedWindow("游戏原画");
  // 在窗口中显示游戏原画
  imshow("游戏原画", image);
  waitKey(12000);
}
```
